<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>일기 쓰기</title>
</head>
<body>
    <h3>일기 쓰기</h3>
    <hr>
    <div id="date"></div>
    <textarea id="diary" cols="80" rows="15"></textarea><br>
    <input type="button" value="저장" onclick="store()"> <input type="button" value="보기" onclick="window.open('./p553-4-view.html', '_blank')">
    <script>
        let today = new Date();
        let yyyy = today.getFullYear();
        let mm = today.getMonth() + 1;
        let dd = today.getDate();

        if (mm < 10) mm = '0' + mm;
        if (dd < 10) dd = '0' + dd;

        document.getElementById("date").innerText = "오늘 " + yyyy + "." + mm + "." + dd;

        function store(){
            if(!window.localStorage){
                alert("로컬 스토리지를 지원하지 않습니다.");
                return;
            }
            let date = yyyy + "." + mm + "." + dd;
            localStorage.setItem(date, diary.value);
        }
    </script>
</body>
</html>